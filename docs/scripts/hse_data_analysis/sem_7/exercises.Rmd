---
title: "Импорт данных: задания"
output: 
  html_document:
    #toc: TRUE
    #toc_float: TRUE
    #etoc_depth: 4
    highlight: pygments
editor_options: 
  chunk_output_type: console
---
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Задание

Будем работать с набором данных, в котором находится информация о футбольных матчах немецкой высшей лиги (бундеслиги). Будем работать с файлом *bundesliga_bad.csv*.

Задание на импорт:

1. Давайте подгрузим этот файл вслепую. Что получилось? Возникли ли какие-то проблемы?
2. Решить все проблемы и подгрузить файлик! Посмотреть на структура датасета. Как подгрузилась дата? Какие названия переменных должны быть у этого файлика? 

Задание на работу с датасетом:

0. Есть хороший файлик *bundesliga.csv*. Давайте подгрузим его и будем работать с ним.
1. Сколько наблюдений у нас есть и сколько переменных? Какого типа каждая переменная?
2. Есть ли бесполезные переменные? Если да, то выкинуть их.
3. За какой период есть наблюдения? Если что-то не получается, попробуйте использовать функцию `summary()`, чтобы понять в чем проблема. Попробуйте сначал без функции `range`, а потом с ней.
4. Сколько команд есть в нашем датасете?
5. Сколько матчей сыграла каждая команда дома и в гостях? Какая команда сыграла наибольшее количество матчей?
6. Сколько в среднем голов забивали хозяева и гости? Сколько голов в среднем забивали за игру?
7. Сколько раз выиграли хоязева, гости? Сколько раз была ничья?
8. Как выбрать 10 случайных матчей?
9. Нарисуйте гистограмму голов хозяев и голов гостей. Используйте функцию `geom_bar()`. Мы еще особо не знакомы с визуализацией. Но давайте попробуем нарисовать следующий график.

```{r eval=FALSE}
# install.packages('tidyr')
# install.packages('ggplot2')
library(tidyr)
library(ggplot2)

foot %>% 
  gather('Who', 'Goals',  c('HomeGoals', 'AwayGoals')) %>%
  ggplot(aes(x = factor(Goals), fill = Who)) +
    geom_bar(position=position_dodge()) + 
    xlab('Goals') +
    ylab('Count')
```

10. Какая команда побеждала чаще всего? Сколько раз она победила?

**Дополнительно:**

11. Кто выиграл лигу в 2008 году и какое количество очков было? За победу начисляется 3 очка, за ничью 1, а за поражение 0 очков.
кто выиграл лигу в 2008 году и какое количество очков было?