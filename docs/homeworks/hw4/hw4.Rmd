---
title: "Домашка №4"
output: 
  html_document:
    toc: TRUE
    toc_float: TRUE
    toc_depth: 4
    highlight: pygments
editor_options: 
  chunk_output_type: console
---
---

### Правила игры

Четвертая домашка нацелена на построении модели для решения задачи регрессии.

1. Домашка оформляется в R Markdown.
2. Подгрузите все нужные вам пакеты в самом начале в одном чанке.
3. Если задается какой-то вопрос, то нужен не просто ответ, а код, с помощью которого вы нашли этот ответ.

---

### Задание

Подгрузим пакеты, которые понадобятся вам для решения задачи.

```{r warning=FALSE, message=FALSE}
library(readr)
library(dplyr)
library(ggplot2)
library(tidyr)
library(tibble)
library(Metrics)
library(rsample)
library(fastDummies)
```

__Задача:__ 

У вас есть два набора данных: train (обучающий) и test (тестовый). В этих наборах есть три переменные: y, x1 и x2. Вам нужно обучить модель, которая будет предсказывать переменную y. Обучаете вы модель вы на train, а проверяете ее качество на test. В качестве меры качества возьмем MAE.

__План работы__:

1. Помните, что вы работаете только с датасетом train. На датасете test вы только проверяете качество вашей модели.
2. Попробуйте изучить ваши переменные. Какие они: числовые или категориальные? Попробуйте нарисовать график зависимости таргета (y) от признаков (x1, x2). Пострайтесь нанести все на один график, чтобы понять как устроена зависимость.
3. Постройте сначала примитивную модель (baseline), например константную. Посчитайте MAE и поймите много это или мало.
4. Постройте простую линейную регрессию. Посчитайте MAE. Лучше ли эта модель чем baseline? Нарисуйте график: по оси x прогноз, по оси y истинное значение. На этот же график нарисуйте биссектрису из точки (0, 0). Этот график поможет понять вам хорошо ли вы прогнозируете. На нем вы будете видеть систематические ошибки вашей модели. 
5. Пытайтесь улучшить вашу модель, то есть уменьшить MAE на тестовом наборе как можно сильнее.
6. Лучшее MAE, которого можно достичь равно 3.92. То есть около 4.

```{r eval=FALSE}
train_url <- 'https://raw.githubusercontent.com/ahmedushka7/R/master/docs/homeworks/hw4/data/train.csv'
test_url <- 'https://raw.githubusercontent.com/ahmedushka7/R/master/docs/homeworks/hw4/data/test.csv'

train <- read_csv(train_url)
test <- read_csv(test_url)
```

